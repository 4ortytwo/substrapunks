<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv=X-UA-Compatible content="IE=11">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png">
    <title>SubstraPunks</title>
    <meta name="description" content="10,000 unique collectible characters with proof of ownership stored on the NFT Substrate blockchain." />
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
    <!-- production -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/style1.css">

    <script src="js/polkadot.js"></script>
    <script src="js/getPunkCard.js"></script>
    <script src="js/marketplace.js"></script>
    </head>

<body>

<link rel="stylesheet" type="text/css" href="css/cryptopunk.css" charset="utf-8" ></link>

<div class="main_content project">
    <div class="container item_header image_block" style="margin-bottom: 24px;">
        
        <div class="row">
            <div class="col-md-10 col-xs-12">
                <p></p>
                <!-- CMS category -->
                <a href="https://usetech.com/blockchain"><img src="images/logo.png" class="category_btn"></img></a>
            </div>
            <div class="header__menu">
                <br/>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="my.html">My&nbsp;Punks</a></li>
                </ul>
            </div>
        </div>

        <h1>Marketplace</h1>

        <table style="border: 0px solid black;border-collapse: collapse; width:100%;">
            <tr>
                <td width="80%" style="vertical-align: top;">
                    <h3>Tokens for Sale</h3>
                    <div class="row" id='tokenlist'>
                        Loading data from blockchain - знаю, что медленно, ускорю позже...
                    </div>
                </td>
                <td style="vertical-align: top;">
                    <div id='walletselector' style='display:block;'>
                        <p><b>Select your Unique address:</b></p>
                        <select id='owner' onchange='update();' class='btn' style='background-color: white; color: #ff04b4; max-width: 600px; border: 1px solid; border-radius: 3px;'></select>
                        <br/><br/>
                    </div>
                    <div>
                        <p>KSM Balance:</p>
                        <p><b><span id='ksmbal'>???</span></b></p>
                        <div id="withdraw" style="display:none;">
                            Enter the KSM amount you'd like to withdraw:<br/>
                            (A withdraw commission of 0.01 KSM will be applied to cover network fees)<br/>
                            <input type="text" id="amount"/><br/>
                            <p><button onclick='withdrawtx();' class='btn'>Withdraw</button></p>
                        </div>
                        <div id="withdrawButton">
                            <p><button onclick='deposit();' class='btn'>Deposit KSM</button></p>
                            <p><button onclick='withdraw();' class='btn'>Withdraw KSM</button></p>
                        </div>
                        <div id="progress" style="display:none;">
                            Mining withdraw transaction... 
                        </div>
                    </div>
                </td>
            </tr>
        </table>

        <div class="row">
            <div class="col-md-10 col-xs-12">
                <!-- CMS title -->
                <!--
                <h1>Marketplace</h1>

                <h3>Tokens for Sale</h3>
                <div class="row" id='tokenlist'>
                    Loading data from blockchain - знаю, что медленно, ускорю позже...
                </div>

                <br>

                <div id='walletselector' style='display:block;'>
                    <p><b>Select your Polkadot-NFT address:</b></p>
                    <select id='owner' onchange='update();' class='btn' style='background-color: white; color: #ff04b4; max-width: 600px; border: 1px solid; border-radius: 3px;'></select>
                    <br/><br/>
                </div>
                <div>
                    <p>KSM Balance:</p>
                    <p><b><span id='ksmbal'>???</span></b></p>
                    <div id="withdraw" style="display:none;">
                        Enter the KSM amount you'd like to withdraw:<br/>
                        (A withdraw commission of 0.01 KSM will be applied to cover network fees)<br/>
                        <input type="text" id="amount"/><br/>
                        <p><button onclick='withdrawtx();' class='btn'>Withdraw</button></p>
                    </div>
                    <div id="withdrawButton">
                        <p><button onclick='withdraw();' class='btn'>Withdraw</button></p>
                    </div>
                    <div id="progress" style="display:none;">
                        Mining withdraw transaction... 
                    </div>
                    <p>Deposit Address for KSM:</p>
                    <p><b><span id='kusamaVaultAddress'>???</span></b></p>
                    <br/><br/>
                </div>

                -->

            </div>
            <div class="col-md-12 text_block">
                <p>
                    The NFTs listed here are the <span id="limit"></span> NFTs recently placed on the market. The older asks are still tradeable, but 
                    will not appear here. In order to refresh an ask, it needs to be cancelled and replaced. More filtering options are to come, 
                    stay tuned!
                </p>
                <p>
                    This marketplace is a BETA functionality. Please be warned: Even though we did our best to review and test this functionality, 
                    and it allows trading NFTs for assets with real value (such as KSM), don't use any assets that you can't afford losing for now
                    until this warning disappears.
                </p>

            </div>
        </div>
    </div>
    <div id="extensionWarning" class='container text_block' style='display:none'>
        <h3>Please enable Polkadot{.js} browser extension and create or import an address!</h3>
        <p>
            For <a href="https://chrome.google.com/webstore/detail/polkadot%7Bjs%7D-extension/mopnmbcafieddcagagdcbnhejhlodfdd">Chrome</a><br>
            For <a href="https://addons.mozilla.org/en-US/firefox/addon/polkadot-js-extension/">Firefox</a>
        </p>
    </div>

    <div id='kusamaDeposit' class='modal'>
        <div class="modal-content">
            <h4>Deposit KSM</h4>
            In order to deposit KSM to your account in this marketplace, please <b>send KSM</b><br><br>

            <b>From</b> this address (your in Polkadot{.js} extension): <b><span id='myAddressInKusama'></span></b><br><br>
            
            <b>To</b> this address (Marketplace Vault):
            <b><span id='kusamaVaultAddress'></b></span>
        </div>
    </div>

</div>

</body>
</html>